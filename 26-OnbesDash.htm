<html>
	<head>
		<meta charset="UTF-8" />
		<title>JS Arrays</title>
		<style>
			table {	border-collapse: collapse; 
					margin: 100px auto;}
			td { border: 1px solid silver; 
				width: 100px; height: 100px; 
				text-align: center;
				font: bold 3rem Arial;
				cursor: pointer; }
		</style>
	</head>
	<body>
		<table id="test"></table>
		
		<script>
			let test = document.getElementById("test");
			let A = [""];
			let C = [];
			let m, n;
			
			for(i = 1; i <= 15; i++) A[i] = i;
			
			for(i = 0; i < 4; i++) {
				C[i] = [];
				for(j = 0; j < 4; j++) {
					r = rnd(0, A.length-1);
					if(A[r] == "") {
						m = i;
						n = j;
					}
					C[i][j] = A[r];
					A.splice(r, 1); 
				}
			}

			cedvel();
						
			function cedvel() {
				let kod = "";
				for(i = 0; i < 4; i++) {
					kod += "<tr>";
					for(j = 0; j < 4; j++) {
						kod += '<td onclick="vur(' + i +','+ j + ')">' + C[i][j] + '</td>';
					}
					kod+="</tr>";
				}
				test.innerHTML = kod;
			}
			function vur(i,j) {
				if( i==m && Math.abs(j-n)==1  ||
					j==n && Math.abs(i-m)==1) {
					C[m][n] = C[i][j];
					C[i][j] = "";
					m = i;
					n = j;
					cedvel();
					yoxla();
				}
			}
			function yoxla() {
				sira = 1;
				saygac = 0;
				for(i = 0; i < 4; i++) {
					for(j = 0; j < 4; j++) {
						if (C[i][j] == sira++) saygac++;
					}
				}
				if(saygac == 15) alert("UDDUN !");
			}
			function rnd(min, max) {
				return Math.floor(Math.random() * (max - min + 1) ) + min;
			}
		</script>
	</body>
</html>


